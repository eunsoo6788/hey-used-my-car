# í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì³ 

1. ëª¨ë“ˆë³„ application.yml ì ìš©
2. ë¹ˆ ìŠ¤ìº” ëª»í•¨.
3. entityScan
4. ëª¨ë“ˆ ì°¸ì¡°


### ğŸ› **Hexagonal Architecture êµ¬ì¡° ì •ë¦¬**

í”„ë¡œì íŠ¸ëŠ” **Hexagonal Architecture (Ports & Adapters)** íŒ¨í„´ì„ ë”°ë¥´ë©°,  
ëª¨ë“ˆ ê°„ **ëª…í™•í•œ ì˜ì¡´ì„± ë°©í–¥**ì„ ìœ ì§€í•©ë‹ˆë‹¤.

---

## **ğŸ“‚ í”„ë¡œì íŠ¸ ëª¨ë“ˆ êµ¬ì¡°**
```
ğŸ“¦ í”„ë¡œì íŠ¸ ë£¨íŠ¸
â”œâ”€â”€ ğŸ“‚ application        # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì  (Controller ê³„ì¸µ)
â”‚   â”œâ”€â”€ ğŸ“‚ controller    # API ìš”ì²­ ì²˜ë¦¬
â”‚   â””â”€â”€ ğŸ“„ (ê¸°íƒ€ ì„¤ì • íŒŒì¼)
â”‚
â”œâ”€â”€ ğŸ“‚ core              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ë„ë©”ì¸ ì¤‘ì‹¬ ê³„ì¸µ)
â”‚   â”œâ”€â”€ ğŸ“‚ domain       # í•µì‹¬ ë„ë©”ì¸ ì—”í‹°í‹° ë° ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
â”‚   â”œâ”€â”€ ğŸ“‚ service      # ë„ë©”ì¸ ì„œë¹„ìŠ¤ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰)
â”‚   â”œâ”€â”€ ğŸ“‚ port         # ì¸í„°í˜ì´ìŠ¤ (inbound & outbound ports)
â”‚   â””â”€â”€ ğŸ“„ (ê¸°íƒ€ ì„¤ì • íŒŒì¼)
â”‚
â”œâ”€â”€ ğŸ“‚ infra             # ì™¸ë¶€ ì‹œìŠ¤í…œ ë° ì¸í”„ë¼ ê³„ì¸µ
â”‚   â”œâ”€â”€ ğŸ“‚ cache        # ìºì‹± ê´€ë ¨ ëª¨ë“ˆ (ì˜ˆ: Redis)
â”‚   â”œâ”€â”€ ğŸ“‚ message      # ë©”ì‹œì§€ í (Kafka, RabbitMQ)
â”‚   â”œâ”€â”€ ğŸ“‚ persistence  # ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ (JPA, MyBatis)
â”‚   â”œâ”€â”€ ğŸ“‚ batch        # ë°°ì¹˜ ì²˜ë¦¬ ëª¨ë“ˆ (Spring Batch)
â”‚   â””â”€â”€ ğŸ“„ (ê¸°íƒ€ ì„¤ì • íŒŒì¼)
â”‚
â””â”€â”€ ğŸ“„ build.gradle     # Gradle ì„¤ì •
```

---

## **ğŸ“Œ ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ë°©í–¥**
ğŸ“Œ **Hexagonal êµ¬ì¡°ì—ì„œ ëª¨ë“ˆ ê°„ì˜ ì˜ì¡´ì„± íë¦„**  
âœ… **ì˜ì¡´ì„± ê·œì¹™**ì„ ì¤€ìˆ˜í•˜ì—¬ **ë‹¨ë°©í–¥ ì˜ì¡´ì„±**ì„ ìœ ì§€í•©ë‹ˆë‹¤.

```
[Application]  --->  [Core]  <---  [Infra]
```

| **ëª¨ë“ˆ**           | **ì„¤ëª…**                                                      | **ì˜ì¡´ì„±**                           |
|-------------------|-----------------------------------------------------------|--------------------------------|
| **`application`**  | - API ì§„ì…ì  (Controller)                                  | `core` ëª¨ë“ˆì— ì˜ì¡´              |
| **`core`**        | - ë„ë©”ì¸ ì¤‘ì‹¬ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (`service`, `domain`, `port`) | `infra` ëª¨ë“ˆì— ì˜ì¡´ (`port` ì‚¬ìš©) |
| **`infra`**       | - ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ (`persistence`, `cache`, `message`, `batch`) | `core.port`ë¥¼ êµ¬í˜„               |

---

## **ğŸ“Œ ìƒì„¸í•œ ì˜ì¡´ì„± íë¦„**
1. **Application ëª¨ë“ˆ â†’ Core ëª¨ë“ˆ**
    - `application` ì€ `core` ëª¨ë“ˆì„ í˜¸ì¶œí•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
    - `Controller â†’ Service` í˜¸ì¶œ ë°©ì‹ìœ¼ë¡œ ì‘ë™.

2. **Core ëª¨ë“ˆ â† Infra ëª¨ë“ˆ (persistence, cache, batch, message)**
    - `core` ëª¨ë“ˆì€ **ì§ì ‘ `infra` ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ!**
    - ëŒ€ì‹  `port` ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , `infra` ëª¨ë“ˆì´ ì´ë¥¼ êµ¬í˜„.
    - **ì¦‰, coreëŠ” infraì— ëŒ€í•´ ì•Œì§€ ëª»í•˜ê³ , portë§Œ ë°”ë¼ë´„.**

3. **Infra ëª¨ë“ˆ (Persistence, Cache, Batch, Message)**
    - `persistence`: DB (JPA, MyBatis) ì—°ë™
    - `cache`: Redis ë“± ìºì‹± í™œìš©
    - `batch`: ìŠ¤ì¼€ì¤„ë§ ë° ë°°ì¹˜ ì²˜ë¦¬
    - `message`: Kafka / RabbitMQ ê¸°ë°˜ ë©”ì‹œì§€ ì²˜ë¦¬

---

## **ğŸ“Œ Hexagonal Architecture ì˜ì¡´ì„± ë°©í–¥ (ë‹¤ì´ì–´ê·¸ë¨)**
```plaintext
   [ Controller ]  --->  [ Core Service ]
        |                      |
        â–¼                      â–¼
  [ Core Port ]  <---  [ Infra Adapter ]
    (Interface)         (Persistence, Cache, Batch, Message)
```

---

## **ğŸ“Œ Hexagonal Architecture í•µì‹¬ ì›ì¹™**
âœ” **Core (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)ì™€ Infra (ì™¸ë¶€ ì‹œìŠ¤í…œ)ë¥¼ ë¶„ë¦¬**  
âœ” **CoreëŠ” Infraì— ëŒ€í•´ ì•Œì§€ ëª»í•˜ê³ , Port ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì†Œí†µ**  
âœ” **ë‹¨ë°©í–¥ ì˜ì¡´ì„± ìœ ì§€ (`Application â†’ Core`, `Core â† Infra`)**  
âœ” **í…ŒìŠ¤íŠ¸ ë° ìœ ì§€ë³´ìˆ˜ ìš©ì´ (Infra êµì²´ ê°€ëŠ¥)**

---

## **ğŸ“Œ ê²°ë¡ **
âœ… **ì´ êµ¬ì¡°ë¥¼ í†µí•´ "ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±"ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆìŒ** ğŸš€  
âœ… **Infra ëª¨ë“ˆì„ êµì²´í•´ë„ Core ëª¨ë“ˆì´ ì˜í–¥ì„ ë°›ì§€ ì•ŠìŒ**  
âœ… **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì™¸ë¶€ ì—°ë™ì„ ë¶„ë¦¬í•˜ì—¬ ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**

---




### application.yml ëª¨ë“ˆë³„ ì ìš©í•˜ê¸° 
* ì„œë¡œ ë‹¤ë¥¸ ëª¨ë“ˆ, application.yml ë¶„ë¦¬í•˜ê¸°, resource/config ì•ˆì— ë„£ìœ¼ë©´ ì¸ì‹ë¨

<details>
  <summary>ğŸ“Œ ì™œ í•´ê²°ë˜ì—ˆì„ê¹Œ?</summary>

âœ… **`application.yml`ì„ `src/main/resources/config/` ì•ˆì— ë‘ì–´ì„œ ë¬¸ì œ í•´ê²° ğŸ¯**

### **ğŸ“Œ ì™œ í•´ê²°ë˜ì—ˆì„ê¹Œ?**
Spring BootëŠ” **ì„¤ì • íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë¡œë“œí•˜ëŠ” ê¸°ë³¸ ìœ„ì¹˜**ê°€ ìˆë‹¤.

#### **1ï¸âƒ£ Spring Bootê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì°¾ëŠ” ì„¤ì • íŒŒì¼ ìœ„ì¹˜**
Spring BootëŠ” `application.yml`ì„ ì•„ë˜ ìœ„ì¹˜ì—ì„œ ìë™ìœ¼ë¡œ íƒìƒ‰í•¨:
1. `classpath:/`
    - ì¦‰, `src/main/resources/application.yml`
2. `classpath:/config/`
    - ì¦‰, `src/main/resources/config/application.yml`
3. `file:./`
    - ì¦‰, `í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬/application.yml`
4. `file:./config/`
    - ì¦‰, `í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬/config/application.yml`

âœ… **ì¦‰, `src/main/resources/config/application.yml`ì— ë‘ë©´ Spring Bootê°€ ìë™ìœ¼ë¡œ ë¡œë“œí•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ê²½ë¡œ ì¤‘ í•˜ë‚˜ë¼ì„œ í•´ê²°ëœ ê²ƒ!**

---

### **ğŸ“Œ ìë™ ë¡œë“œë˜ëŠ” ê²½ë¡œì˜ ìš°ì„ ìˆœìœ„**
Spring BootëŠ” ì„¤ì • íŒŒì¼ì„ ì—¬ëŸ¬ ê³³ì—ì„œ ì°¾ì„ ìˆ˜ ìˆì§€ë§Œ, **ìš°ì„ ìˆœìœ„**ê°€ ìˆë‹¤.
> **ìš°ì„ ìˆœìœ„ (ë†’ìŒ â†’ ë‚®ìŒ)**  
> 1ï¸âƒ£ `file:./config/` (í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ `config/` í´ë”)  
> 2ï¸âƒ£ `file:./` (í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬)  
> 3ï¸âƒ£ `classpath:/config/` (`src/main/resources/config/`) âœ…  
> 4ï¸âƒ£ `classpath:/` (`src/main/resources/`)

ğŸ“Œ **ì¦‰, `config/` í´ë” ì•ˆì— ìˆìœ¼ë©´ `src/main/resources/`ë³´ë‹¤ ë†’ì€ ìš°ì„ ìˆœìœ„ë¡œ ì ìš©ë¨!**  
âœ” ê·¸ë˜ì„œ `persistence` ëª¨ë“ˆì˜ `application.yml`ì„ `src/main/resources/config/`ì— ë„£ìœ¼ë©´ **ìë™ ì¸ì‹**ë¨.

---

### **ğŸ“Œ ë” ì¢‹ì€ ì„¤ì • ê´€ë¦¬ ë°©ë²•?**
âœ… **1. `config/` í´ë”ë¥¼ ìœ ì§€í•˜ë©´ì„œ í”„ë¡œíŒŒì¼ ê´€ë¦¬**
- ì—¬ëŸ¬ í™˜ê²½(ì˜ˆ: `dev`, `prod`)ì„ ê³ ë ¤í•´ì„œ ì•„ë˜ì²˜ëŸ¼ ì„¤ì • ê°€ëŠ¥
```yaml
ğŸ“‚ src/main/resources/config/
 â”œâ”€â”€ ğŸ“„ application.yml  # ê¸°ë³¸ ì„¤ì •
 â”œâ”€â”€ ğŸ“„ application-dev.yml  # ê°œë°œ í™˜ê²½ ì„¤ì •
 â”œâ”€â”€ ğŸ“„ application-prod.yml  # ìš´ì˜ í™˜ê²½ ì„¤ì •
```
- ì‹¤í–‰ ì‹œ í”„ë¡œíŒŒì¼ ì ìš©:
  ```bash
  java -jar myapp.jar --spring.profiles.active=dev
  ```

âœ… **2. `spring.config.import`ë¥¼ ì‚¬ìš©í•´ ì¶”ê°€ì ì¸ ì„¤ì • ê°€ì ¸ì˜¤ê¸°**
- `application.yml`ì—ì„œ `config/application-persistence.yml`ì„ ëª…ì‹œì ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ë„ ìˆìŒ
```yaml
spring:
  config:
    import: "classpath:/config/application-persistence.yml"
```

---

### **ğŸ“Œ ì •ë¦¬ ğŸš€**
- `src/main/resources/config/application.yml`ì„ ì‚¬ìš©í•˜ë©´ **Spring Bootê°€ ìë™ ì¸ì‹**í•˜ì—¬ ì„¤ì • ì ìš©ë¨.
- `config/` í´ë”ëŠ” Spring Bootì—ì„œ **ê¸°ë³¸ì ìœ¼ë¡œ ì¸ì‹í•˜ëŠ” ìš°ì„ ìˆœìœ„ ë†’ì€ ì„¤ì • í´ë”**ì´ë¯€ë¡œ ë³„ë„ì˜ import í•„ìš” ì—†ìŒ.
- í–¥í›„ ì—¬ëŸ¬ í™˜ê²½(`dev`, `prod`)ì„ ê³ ë ¤í•˜ë©´ **í”„ë¡œíŒŒì¼ ê¸°ë°˜(`application-dev.yml`) ì„¤ì •ë„ í•¨ê»˜ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ**! ğŸš€

---
âœ… **ì´ì œ ì„¤ì • ë¬¸ì œ í•´ê²°í–ˆìœ¼ë‹ˆ, ë‹¤ìŒìœ¼ë¡œ ë­˜ ë” ë„ì™€ì¤„ê¹Œ?** ğŸ˜ƒ

</details>


